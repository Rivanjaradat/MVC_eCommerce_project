@model MVC_eCommerce_project.Models.Order
@{
    ViewData["Title"] = "Order Details";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container py-5">
    <h2 class="mb-4">Order Details</h2>

    <!-- Order Information Card -->
    <div class="card shadow-sm mb-4 p-4">
        <h5 class="text-secondary">Order Info</h5>
        <hr />
        <p><strong>Order ID:</strong> @Model.Id</p>
        <p><strong>Status:</strong> @Model.Status</p>
        <p><strong>Order Date:</strong> @Model.CreatedAt.ToString("yyyy-MM-dd HH:mm")</p>
        <p><strong>Total Amount:</strong> $@Model.Amount.ToString("F2")</p>
    </div>

    <!-- Shipping Address Card -->
    <div class="card shadow-sm mb-4 p-4">
        <h5 class="text-secondary">Shipping Address</h5>
        <hr />
        <p><strong>Address:</strong> @Model.Address.AddresssLine</p>
        <p><strong>City:</strong> @Model.Address.City</p>
        <p><strong>State:</strong> @Model.Address.State</p>
        <p><strong>Postal Code:</strong> @Model.Address.PinCode</p>
    </div>

    <!-- Products in Order (Table) -->
    @if (Model.orderProducts != null && Model.orderProducts.Any())
    {
        <div class="card shadow-sm p-4 mb-4">
            <h5 class="text-secondary">Products in this Order</h5>
            <hr />
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total Price</th>
                        <th>Image</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.orderProducts)
                    {
                        <tr>
                            <td>@item.Product.Name</td>
                            <td>$@item.Product.Price.ToString("F2")</td>
                            <td>@item.Qty</td>
                            <td>$@(item.Product.Price * item.Qty)</td>
                            <td>
                                <img src="@item.Product.Image" alt="@item.Product.Name" class="img-thumbnail" style="width: 100px; height: 100px;" />
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="alert alert-info">No products found in this order.</div>
    }
</div>
